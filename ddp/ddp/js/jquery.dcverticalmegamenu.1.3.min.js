(function(a){a.fn.dcVerticalMegaMenu=function(b){var d={classParent:"dc-mega",arrow:true,classArrow:"dc-mega-icon",classContainer:"sub-container",classSubMenu:"sub",classMega:"mega",classSubParent:"mega-hdr",classSubLink:"mega-hdr",classRow:"row",rowItems:3,speed:"fast",effect:"show",direction:"right"};var b=a.extend(d,b);var c=this;return c.each(function(f){$mega=a(this);if(d.direction=="left"){$mega.addClass("left")}else{$mega.addClass("right")}var i=$mega.width();a("> li",$mega).each(function(){var l=a(this);var m=a("> ul",l);if(m.length>0){a("> a",l).addClass(d.classParent).append('<span class="'+d.classArrow+'"></span>');m.addClass(d.classSubMenu).wrap('<div class="'+d.classContainer+'" />');var u=a("."+d.classContainer,l);if(a("ul",m).length>0){l.addClass(d.classParent+"-li");u.addClass(d.classMega);a("> li",m).each(function(){a(this).addClass("mega-unit");if(a("> ul",this).length){a(this).addClass(d.classSubParent);a("> a",this).addClass(d.classSubParent+"-a")}else{a(this).addClass(d.classSubLink);a("> a",this).addClass(d.classSubLink+"-a")}});var v=a(".mega-unit",l);rowSize=parseInt(d.rowItems);for(var n=0;n<v.length;n+=rowSize){v.slice(n,n+rowSize).wrapAll('<div class="'+d.classRow+'" />')}var p=a(".mega-unit",m).outerWidth(true);var q=a(".row:eq(0) .mega-unit",m).length;var w=p*q;var k=w+s;a(".row",this).each(function(){a(".mega-unit:last",this).addClass("last");var x=undefined;a(".mega-unit > a",this).each(function(){var y=parseInt(a(this).height());if(x===undefined||x<y){x=y}});a(".mega-unit > a",this).css("height",x+"px");a(this).css("width",w+"px")});var t=m.outerWidth(true);var o=u.outerWidth(true);var s=o-t;a(".row",m).each(function(){var x=a(this).height();a(this).parent(".row").css("height",x+"px")});a(".row:last",m).addClass("last");a(".row:first",m).addClass("first")}else{u.addClass("non-"+d.classMega)}}var u=a("."+d.classContainer,l);var t=m.outerWidth(true);var r=u.height();var j=l.outerHeight(true);u.css({height:r+"px",marginTop:-j+"px",zIndex:"1000",width:t+"px"}).hide()});var e={sensitivity:2,interval:100,over:g,timeout:0,out:h};a("li",c).hoverIntent(e);function g(){a(this).addClass("mega-hover");var p=a("> a",this);var l=a(".sub",this);var w=a(".sub-container",this);var j=w.width();var t=w.outerHeight();var u=w.height();var m=a(this).outerHeight(true);var n=p.offset();var k=a(window).scrollTop();var n=n.top-k;var v=a(window).height();var s=v-n;var r=s-t;if(r<0){var o=r-m;w.css({marginTop:o+"px"})}var q={right:i};if(d.direction=="right"){q={left:i}}if(d.effect=="fade"){w.css(q).fadeIn(d.speed)}if(d.effect=="show"){w.css(q).show()}if(d.effect=="slide"){w.css({width:0,height:0,opacity:0});if(d.direction=="right"){w.show().css({left:i})}else{w.show().css({right:i})}w.animate({width:j,height:u,opacity:1},d.speed)}}function h(){a(this).removeClass("mega-hover");var j=a(".sub-container",this);j.hide()}})}})(jQuery);